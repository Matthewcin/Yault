<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Yani Vault</title>
  <link rel="preconnect" href="https://esm.sh">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="shell">
    <header class="glass">
      <div class="logo">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2L20 7v10l-8 5-8-5V7l8-5z" stroke="white" opacity=".8" stroke-width="1.2"/></svg>
        <h1>Mi Vault</h1>
        <span id="vaultStatus" class="pill">Bloqueado ðŸ”’</span>
      </div>
      <div class="status"><span id="syncStatus">Sincronizado</span></div>
    </header>

    <!-- BLOQUEO / MASTER PASSWORD -->
    <section id="auth" class="auth glass">
      <div class="grid" style="gap:14px">
        <h3 style="margin:0">ContraseÃ±a Maestra</h3>
        <p class="hint">Se usa <b>solo</b> para cifrar/descifrar localmente en AES-GCM. No se envÃ­a al servidor.</p>
        <input id="master" type="password" placeholder="Master Password" />
        <div class="row">
          <button id="unlockBtn" class="btn-primary">Desbloquear</button>
          <button id="wipeLocalBtn" class="btn-ghost">Olvidar en este dispositivo</button>
        </div>
        <p id="authMsg" class="hint"></p>
      </div>
    </section>

    <!-- APP -->
    <section id="app" class="app glass" style="display:none">
      <div class="grid" style="gap:16px">
        <div class="row" style="justify-content:space-between; align-items:center">
          <div class="search" style="flex:1">
            <input id="q" placeholder="Buscar por tÃ­tulo o usuarioâ€¦" />
            <button id="newBtn" class="btn-primary">+ Nuevo</button>
          </div>
          <button id="lockBtn" class="btn-ghost">Bloquear</button>
        </div>

        <!-- FORM -->
        <div id="form" class="glass" style="display:none; padding:16px">
          <div class="grid two">
            <div><label>TÃ­tulo</label><input id="f_title" placeholder="Ej: Gmail" /></div>
            <div><label>Usuario</label><input id="f_username" placeholder="yellower.co@gmail.com" /></div>
          </div>
          <div class="grid two">
            <div><label>ContraseÃ±a</label><input id="f_password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" /></div>
            <div><label>Notas</label><input id="f_notes" placeholder="Opcional" /></div>
          </div>
          <div class="row">
            <button id="saveBtn" class="btn-primary">Guardar</button>
            <button id="cancelBtn" class="btn-ghost">Cancelar</button>
          </div>
          <p id="formMsg" class="hint"></p>
        </div>

        <!-- LISTA -->
        <div id="list" class="list"></div>
        <div id="empty" class="empty">Sin Ã­tems aÃºn. Crea tu primer registro bebe <3</div>
        <div class="footer">Hecho con ðŸ’œ para ti â€” los datos estÃ¡n cifrados de extremo a extremo.</div>
      </div>
    </section>
  </div>

  <!-- Supabase SDK -->
  <script type="module" src="js/script.js">
</body>
</html>
